(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-154cfde9"],{"0b42":function(t,e,n){var c=n("da84"),i=n("e8b5"),r=n("68ee"),l=n("861d"),o=n("b622"),a=o("species"),s=c.Array;t.exports=function(t){var e;return i(t)&&(e=t.constructor,r(e)&&(e===s||i(e.prototype))?e=void 0:l(e)&&(e=e[a],null===e&&(e=void 0))),void 0===e?s:e}},"1dde":function(t,e,n){var c=n("d039"),i=n("b622"),r=n("2d00"),l=i("species");t.exports=function(t){return r>=51||!c((function(){var e=[],n=e.constructor={};return n[l]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"65f0":function(t,e,n){var c=n("0b42");t.exports=function(t,e){return new(c(t))(0===e?0:e)}},8418:function(t,e,n){"use strict";var c=n("a04b"),i=n("9bf2"),r=n("5c6c");t.exports=function(t,e,n){var l=c(e);l in t?i.f(t,l,r(0,n)):t[l]=n}},a434:function(t,e,n){"use strict";var c=n("23e7"),i=n("da84"),r=n("23cb"),l=n("5926"),o=n("07fa"),a=n("7b0b"),s=n("65f0"),u=n("8418"),b=n("1dde"),p=b("splice"),d=i.TypeError,f=Math.max,h=Math.min,j=9007199254740991,O="Maximum allowed length exceeded";c({target:"Array",proto:!0,forced:!p},{splice:function(t,e){var n,c,i,b,p,y,m=a(this),v=o(m),g=r(t,v),_=arguments.length;if(0===_?n=c=0:1===_?(n=0,c=v-g):(n=_-2,c=h(f(l(e),0),v-g)),v+n-c>j)throw d(O);for(i=s(m,c),b=0;b<c;b++)p=g+b,p in m&&u(i,b,m[p]);if(i.length=c,n<c){for(b=g;b<v-c;b++)p=b+c,y=b+n,p in m?m[y]=m[p]:delete m[y];for(b=v;b>v-c+n;b--)delete m[b-1]}else if(n>c)for(b=v-c;b>g;b--)p=b+c-1,y=b+n-1,p in m?m[y]=m[p]:delete m[y];for(b=0;b<n;b++)m[b+g]=arguments[b+2];return m.length=v-c+n,i}})},b64b:function(t,e,n){var c=n("23e7"),i=n("7b0b"),r=n("df75"),l=n("d039"),o=l((function(){r(1)}));c({target:"Object",stat:!0,forced:o},{keys:function(t){return r(i(t))}})},bb0b:function(t,e,n){"use strict";n.r(e);var c=n("7a23"),i={class:"row"},r={class:"col-md-10 offset-md-1"},l={class:"input-group mb-3"},o=Object(c["g"])("h3",{class:"mr-3"},"Извлечь",-1),a=["onUpdate:modelValue"],s={class:"offset-md-3"},u={class:"offset-md-5"},b={class:"offset-md-5"},p={key:0,class:"mt-1"},d={key:1},f=Object(c["g"])("h3",null,"Результаты запроса",-1),h={class:"table"},j=["href"],O={key:1};function y(t,e,n,y,m,v){var g=Object(c["B"])("Triplet");return Object(c["t"])(),Object(c["f"])(c["a"],null,[Object(c["g"])("div",i,[Object(c["g"])("div",r,[Object(c["g"])("div",l,[o,(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["z"])(m.select_variables,(function(t,e){return Object(c["H"])((Object(c["t"])(),Object(c["f"])("input",{type:"text",key:e,"onUpdate:modelValue":function(t){return m.select_variables[e]=t},placeholder:"Переменная",class:"form-control"},null,8,a)),[[c["F"],m.select_variables[e]]])})),128)),Object(c["g"])("button",{class:"btn btn-outline-danger ml-1",type:"button",onClick:e[0]||(e[0]=function(){return v.popSelectFiled&&v.popSelectFiled.apply(v,arguments)})}," X "),Object(c["g"])("button",{class:"btn btn-outline-secondary ml-1",type:"button",onClick:e[1]||(e[1]=function(){return v.pushSelectFiled&&v.pushSelectFiled.apply(v,arguments)})}," Добавить")]),Object(c["g"])("div",s,[(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["z"])(m.triplets_array,(function(t,e){return Object(c["t"])(),Object(c["d"])(g,{key:e,modelValue:m.triplets_array[e],"onUpdate:modelValue":function(t){return m.triplets_array[e]=t},variables:m.select_variables,idx:e,onTriple:v.tripletInput,onPopTriple:v.popTriplet},null,8,["modelValue","onUpdate:modelValue","variables","idx","onTriple","onPopTriple"])})),128))]),Object(c["g"])("div",u,[Object(c["g"])("button",{class:"btn btn-outline-secondary mt-1",type:"button",onClick:e[2]||(e[2]=function(){return v.pushTriplet&&v.pushTriplet.apply(v,arguments)})}," Добавить триплет ")]),Object(c["g"])("div",b,[Object(c["g"])("button",{class:"btn btn-primary mt-1",type:"button",onClick:e[3]||(e[3]=function(){return v.executeQuery&&v.executeQuery.apply(v,arguments)})}," Выполнить запрос ")])])]),null!=m.answer_error?(Object(c["t"])(),Object(c["f"])("h3",p,"Ошибка: "+Object(c["D"])(m.answer_error),1)):Object(c["e"])("",!0),null!=m.answers?(Object(c["t"])(),Object(c["f"])("div",d,[f,Object(c["g"])("table",h,[Object(c["g"])("thead",null,[Object(c["g"])("tr",null,[(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["z"])(m.table_header,(function(t,e){return Object(c["t"])(),Object(c["f"])("th",{key:e,scope:"col"},Object(c["D"])(t),1)})),128))])]),Object(c["g"])("tbody",null,[(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["z"])(m.answers,(function(t,e){return Object(c["t"])(),Object(c["f"])("tr",{key:e},[(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["z"])(t,(function(t,e){return Object(c["t"])(),Object(c["f"])("td",{key:e},["uri"==t.type?(Object(c["t"])(),Object(c["f"])("a",{key:0,href:t.value},Object(c["D"])(t.value),9,j)):Object(c["e"])("",!0),"literal"==t.type?(Object(c["t"])(),Object(c["f"])("h6",O,Object(c["D"])(t.value),1)):Object(c["e"])("",!0)])})),128))])})),128))])])])):Object(c["e"])("",!0)],64)}n("a434"),n("b64b");var m={class:"row"},v={class:"column column-60"},g={class:"column column-60"},_={class:"column column-60"};function I(t,e,n,i,r,l){var o=Object(c["B"])("vue3-simple-typeahead");return Object(c["t"])(),Object(c["f"])("div",m,[Object(c["g"])("div",v,[Object(c["j"])(o,{items:r.entityList,placeholder:r.subjectPlaceholder,onSelectItem:l.selectSubjectItem,onOnInput:l.onEntityInput,onOnBlur:l.onEntityBlur,minInputLength:0},null,8,["items","placeholder","onSelectItem","onOnInput","onOnBlur"])]),Object(c["g"])("div",g,[Object(c["j"])(o,{items:r.predicateList,placeholder:r.predicatePlaceholder,onSelectItem:l.selectPredicateItem,onOnInput:l.onPredicateInput,onOnBlur:l.onPredicateBlur,minInputLength:0},null,8,["items","placeholder","onSelectItem","onOnInput","onOnBlur"])]),Object(c["g"])("div",_,[Object(c["j"])(o,{items:r.entityList,placeholder:r.objectPlaceholder,onSelectItem:l.selectObjectItem,onOnInput:l.onEntityInput,onOnBlur:l.onEntityBlur,minInputLength:0},null,8,["items","placeholder","onSelectItem","onOnInput","onOnBlur"])]),Object(c["g"])("button",{class:"btn btn-outline-danger ml-1",type:"button",onClick:e[0]||(e[0]=function(){return l.popTriplet&&l.popTriplet.apply(l,arguments)})}," X ")])}var S=n("b14c"),L={name:"triplet",props:["variables","idx"],created:function(){this.entityListFiltered=this.entityList,this.predicateListFiltered=this.predicateList},data:function(){return{entityList:[],entityListFiltered:[],predicateList:[],predicateListFiltered:[],objectSelection:null,predicateSelection:null,subjectSelection:null,objectPlaceholder:"Объект",predicatePlaceholder:"Предикат",subjectPlaceholder:"Субъект"}},methods:{createTriple:function(){var t={subject:this.subjectSelection,predicate:this.predicateSelection,object:this.objectSelection};this.$emit("triple",this.idx,t),console.log(this.idx,t)},popTriplet:function(){this.$emit("popTriple",this.idx)},selectObjectItem:function(t){this.objectSelection=t,this.createTriple()},selectPredicateItem:function(t){this.predicateSelection=t,this.createTriple()},selectSubjectItem:function(t){this.subjectSelection=t,this.createTriple()},onEntityInput:function(t){var e=this;this.entityListFiltered=t.items,S["a"].getEntity(t.input).then((function(t){0==t.data.length?(e.entityList=e.variables,console.log(e.variables)):e.entityList=t.data})).catch((function(t){console.log(t)}))},onPredicateInput:function(t){var e=this;this.predicateListFiltered=t.items,this.createTriple(),S["a"].getPredicate(t.input).then((function(t){0==t.data.length?(e.predicateList=e.variables,console.log(e.variables)):e.predicateList=t.data})).catch((function(t){console.log(t)}))},onPredicateBlur:function(t){this.predicateListFiltered=t.items},onEntityBlur:function(t){this.entityListFiltered=t.items}}},w=n("6b0d"),T=n.n(w);const k=T()(L,[["render",I]]);var x=k,P={name:"autocomplete",components:{Triplet:x},created:function(){},data:function(){return{select_variables:[""],triplets_array:[""],query:null,answers:[],answer_error:null,table_header:[]}},methods:{pushSelectFiled:function(){this.select_variables.push("")},popSelectFiled:function(){this.select_variables.length>1&&this.select_variables.pop()},pushTriplet:function(){this.triplets_array.push("")},popTriplet:function(t){this.triplets_array.length>1&&this.triplets_array.splice(t,1)},tripletInput:function(t,e){this.triplets_array[t]=e},executeQuery:function(){var t=this;this.answers=null,this.answer_error=null;for(var e={},n={},c=0;c<this.select_variables.length;c++)e["field_"+(c+1)]=this.select_variables[c];for(var i=0;i<this.triplets_array.length;i++)n["triple_"+(i+1)]=this.triplets_array[i];console.log(e),console.log(n),this.query={select_section:e,body_section:n},console.log(this.query),S["a"].executeConstructor(this.query).then((function(e){t.answers=e.data,t.table_header=Object.keys(e.data[0]),console.log(e.data)})).catch((function(e){t.answer_error="Произошла ошибка при составлении SPARQL запроса",console.log(e)}))}}};const F=T()(P,[["render",y]]);e["default"]=F},e8b5:function(t,e,n){var c=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==c(t)}}}]);
//# sourceMappingURL=chunk-154cfde9.6ad6d3c9.js.map